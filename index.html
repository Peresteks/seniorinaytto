<!DOCTYPE html>
<html lang="fi">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/styles.css">
    <title>Infonäyttö</title>
    <link rel="icon" type="image/x-icon" href="./styles/icons/material-symbols--home-outline.svg">
  </head>

  <body>

<label class="wakelock-toggle">
  <input type="checkbox" id="wakelockCheckbox">
  Pidä näyttö päällä
</label>

    <div class="weekday" id="weekday"></div>
    <div class="daytime" id="daytime"></div>
  <div class="date" id="date"></div>
  <div class="time" id="time"><p>Kello on</p></div>

    <script>
        function getDaytime(hours) {
      if (hours >= 5 && hours <= 9) return "aamu";
      if (hours === 10) return "aamupäivä";
      if (hours >= 11 && hours <= 12) return "päivä";
      if (hours >= 13 && hours <= 17) return "iltapäivä";
      if (hours >= 18 && hours <= 21) return "ilta";
      return "yö"; // 22–4
    }

    function updateClock() {
      const now = new Date();
      const hours = now.getHours();

      const weekday = now.toLocaleDateString('fi-FI', { weekday: 'long' });
      const date = now.toLocaleDateString('fi-FI', {
        day: 'numeric',
        month: 'long',
        year: 'numeric'
      });

      const time = now.toLocaleTimeString('fi-FI', {
        hour: '2-digit',
        minute: '2-digit'
      });

      document.getElementById('weekday').textContent =
  weekday.charAt(0).toUpperCase() + weekday.slice(1) + "-";

      document.getElementById('daytime').textContent =
        getDaytime(hours);

      document.getElementById('date').textContent = date;
      document.getElementById('time').textContent = "Kello on " + time;
    }

    updateClock();
    setInterval(updateClock, 1000);

    let wakeLock = null;

async function enableWakeLock() {
  try {
    wakeLock = await navigator.wakeLock.request('screen');
    console.log("Wake lock päällä");
  } catch (err) {
    console.error("Wake lock ei onnistunut:", err);
  }
}

function disableWakeLock() {
  if (wakeLock) {
    wakeLock.release();
    wakeLock = null;
    console.log("Wake lock pois päältä");
  }
}

document.getElementById('wakelockCheckbox').addEventListener('change', function () {
  if (this.checked) {
    enableWakeLock();
  } else {
    disableWakeLock();
  }
});
    </script>

  </body>
</html>